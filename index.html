<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casa do Adubo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1><img src="imagens/cropped-Casa-do-Adubo-Empresa-Nutrien-site_Prancheta-1.png" alt="Casa do Adubo Logo"></h1>
        </div>
    </header>

    <main>
        <section class="hero">
            <h2>Bem-vindo à Casa do Adubo</h2>
            <p>Escolha seus produtos e finalize seu pedido!</p>
        </section>

        <section class="search-section">
            <img src="https://cdn-icons-png.flaticon.com/128/149/149309.png" alt="Busca" width="30px">
            <input type="text" id="globalSearch" placeholder="Pesquisar produtos..." oninput="filtrarProdutos()">
            <p id="noResultsMessage" style="display: none; color: red;">Produto não encontrado</p>
        </section>
        

        <!-- Produtos Agronômicos -->
<section class="products agronomicos">
    <div class="product-category">
        <h2><img src="https://cdn-icons-png.flaticon.com/128/497/497393.png" alt="Produtos Agronômicos" width="40px"> Produtos Agronômicos</h2>
        <button class="toggle-button" onclick="toggleProducts('agronomicos')">Ver Mais</button>
        <div class="product-list">
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Produto Agronômico 1">
                <h4>Adubo Orgânico</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product1">
            </div>
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Produto Agronômico 2">
                <h4>Composto Natural</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product2">
            </div>
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Produto Agronômico 3">
                <h4>Calcário</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product9">
            </div>
            <div class="product-item hidden">
                <img src="https://via.placeholder.com/150" alt="Produto Agronômico 4">
                <h4>Fertilizante NPK</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product10">
            </div>
        </div>
    </div>
</section>

<!-- Produtos Pecuários -->
<section class="products pecuarios">
    <div class="product-category">
        <h2><img src="https://cdn-icons-png.flaticon.com/128/2469/2469697.png" alt="Produtos Pecuários" width="40px"> Produtos Pecuários</h2>
        <button class="toggle-button" onclick="toggleProducts('pecuarios')">Ver Mais</button>
        <div class="product-list">
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Produto Pecuário 1">
                <h4>Ração Bovina</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product3">
            </div>
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Produto Pecuário 2">
                <h4>Sal Mineral</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product4">
            </div>
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Produto Pecuário 3">
                <h4>Suplemento Proteico</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product11">
            </div>
            <div class="product-item hidden">
                <img src="https://via.placeholder.com/150" alt="Produto Pecuário 4">
                <h4>Vitaminas para Gado</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product12">
            </div>
        </div>
    </div>
</section>

<!-- Produtos de Piscina -->
<section class="products piscina">
    <div class="product-category">
        <h2><img src="https://cdn-icons-png.flaticon.com/128/783/783519.png" alt="Produtos de Piscina" width="40px"> Produtos de Piscina</h2>
        <button class="toggle-button" onclick="toggleProducts('piscina')">Ver Mais</button>
        <div class="product-list">
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Produto Piscina 1">
                <h4>Cloro</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product5">
            </div>
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Produto Piscina 2">
                <h4>Filtro de Piscina</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product6">
            </div>
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Produto Piscina 3">
                <h4>Algicida</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product13">
            </div>
            <div class="product-item hidden">
                <img src="https://via.placeholder.com/150" alt="Produto Piscina 4">
                <h4>Ph Plus</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product14">
            </div>
        </div>
    </div>
</section>

<!-- Produtos de Ferramentas -->
<section class="products ferramentas">
    <div class="product-category">
        <h2><img src="https://cdn-icons-png.flaticon.com/128/1835/1835228.png" alt="Ferramentas" width="40px"> Ferramentas</h2>
        <button class="toggle-button" onclick="toggleProducts('ferramentas')">Ver Mais</button>
        <div class="product-list">
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Ferramenta 1">
                <h4>Enxada</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product7">
            </div>
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Ferramenta 2">
                <h4>Foice</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product8">
            </div>
            <div class="product-item">
                <img src="https://via.placeholder.com/150" alt="Ferramenta 3">
                <h4>Machado</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product15">
            </div>
            <div class="product-item hidden">
                <img src="https://via.placeholder.com/150" alt="Ferramenta 4">
                <h4>Pá</h4>
                <input type="number" placeholder="Quantidade" min="1" id="product16">
            </div>
        </div>
    </div>
</section>


        <!-- Seleção do Vendedor -->
        <section class="vendedor-info">
            <div class="product-category">
                <h2><img src="https://cdn-icons-png.flaticon.com/128/3757/3757530.png" alt="Vendedor" width="40px"> Selecione o vendedor:</h2>
            </div>
            <div class="vendedor-cards"> <!-- Alterado de vendedor-cards para vendedor-cards -->
                <div class="vendedor-card" onclick="selecionarVendedor('Vendedor 1', '5573998692369')">
                    <img src="imagens/tico.png" alt="Vendedor 1">
                    <h4>Altiele</h4>
                </div>
                <div class="vendedor-card" onclick="selecionarVendedor('Vendedor 2', '5521888888888')">
                    <img src="imagens/dani.png" alt="Vendedor 2">
                    <h4>Daniela</h4>
                </div>
                <div class="vendedor-card" onclick="selecionarVendedor('Vendedor 3', '5521777777777')">
                    <img src="imagens/lorena.png" alt="Vendedor 3">
                    <h4>Lorena</h4>
                </div>
                <div class="vendedor-card" onclick="selecionarVendedor('Vendedor 4', '5573999184406')">
                    <img src="imagens/nati.png" alt="Vendedor 4">
                    <h4>Natiele</h4>
                </div>
                <div class="vendedor-card" onclick="selecionarVendedor('Vendedor 5', '5573999365117')">
                    <img src="imagens/paulo.png" alt="Vendedor 5">
                    <h4>Paulo</h4>
                </div>
                <div class="vendedor-card" onclick="selecionarVendedor('Vendedor 6', '5521444444444')">
                    <img src="imagens/vera.png" alt="Vendedor 6">
                    <h4>Veronice</h4>
                </div>
            </div>
        </section>


        <!-- Área de Preenchimento de Informações -->
        <section class="customer-info">
            <h3>Preencha suas informações:</h3>
            <input type="text" id="nomeCompleto" placeholder="Nome Completo" required>
            <input type="text" id="nomeFazenda" placeholder="Nome da Fazenda" required>
            <input type="text" id="cpf" placeholder="CPF" maxlength="14" oninput="mascaraCPF(this)" required>
            <button class="whatsapp-button" onclick="enviarPedido()"> <img src="https://cdn-icons-png.flaticon.com/128/5968/5968841.png" alt="Whatsapp" width="20px" class="wpp-button">Enviar Pedido</button>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Casa do Adubo. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        // Chamar a função para exibir os primeiros 3 produtos ao carregar a página
    document.addEventListener('DOMContentLoaded', showInitialProducts);


        // Função para mostrar inicialmente apenas 3 produtos
    function showInitialProducts() {
        const productLists = document.querySelectorAll('.product-list');

        productLists.forEach((list) => {
            const items = list.querySelectorAll('.product-item');
            items.forEach((item, index) => {
                if (index < 3) {
                    item.classList.add('visible');
                } else {
                    item.classList.add('hidden'); // Inicialmente oculta os produtos adicionais
                }
            });
        });
    }

    function toggleProducts(category) {
    const productList = document.querySelector(`.${category} .product-list`);
    const hiddenItems = productList.querySelectorAll('.product-item.hidden');
    const toggleButton = document.querySelector(`.${category} .toggle-button`);
    
    if (hiddenItems.length > 0) {
        // Mostrar mais produtos
        hiddenItems.forEach((item, index) => {
            if (index < 3) {
                item.classList.remove('hidden');
                item.classList.add('visible');
            }
        });
        toggleButton.textContent = 'Ver Menos'; // Muda o texto do botão
    } else {
        // Mostrar menos produtos
        const items = productList.querySelectorAll('.product-item');
        items.forEach((item, index) => {
            if (index >= 3) {
                item.classList.remove('visible');
                item.classList.add('hidden');
            }
        });
        toggleButton.textContent = 'Ver Mais'; // Muda o texto do botão
    }
}



        function filtrarProdutos() {
    const pesquisa = document.getElementById('globalSearch').value.toLowerCase();
    const produtos = document.querySelectorAll('.product-item');
    let produtoEncontrado = false;

    produtos.forEach(produto => {
        const nomeProduto = produto.querySelector('h4').textContent.toLowerCase();
        if (nomeProduto.includes(pesquisa)) {
            produto.style.display = 'block';
            produtoEncontrado = true;
        } else {
            produto.style.display = 'none';
        }
    });

    // Exibe ou esconde a mensagem de produto não encontrado
    const noResultsMessage = document.getElementById('noResultsMessage');
    if (produtoEncontrado) {
        noResultsMessage.style.display = 'none';
    } else {
        noResultsMessage.style.display = 'block';
    }
}

        let numeroWhatsApp = '5521999999999';
    let vendedorSelecionado = null;

    function selecionarVendedor(nome, numero) {
    // Remove a classe 'selected' de todos os cards
    document.querySelectorAll('.vendedor-card').forEach(card => {
        card.classList.remove('selected');
    });

    // Adiciona a classe 'selected' ao card do vendedor clicado
    const vendedorCard = Array.from(document.querySelectorAll('.vendedor-card')).find(card => 
        card.getAttribute('onclick').includes(numero)
    );

    if (vendedorCard) {
        vendedorCard.classList.add('selected');
    }

    numeroWhatsApp = numero;
    // Remove o alerta e apenas atualize o número do WhatsApp
}

        if (vendedorSelecionado) {
            vendedorSelecionado.classList.remove('selected');
        }
        
        // Adiciona a classe selected ao novo vendedor
        elemento.classList.add('selected');
        vendedorSelecionado = elemento;

        // Atualiza o número do WhatsApp
        numeroWhatsApp = numero;
    
        function mascaraCPF(cpf) {
            cpf.value = cpf.value
                .replace(/\D/g, '') // Remove caracteres não numéricos
                .replace(/(\d{3})(\d)/, '$1.$2') // Insere o ponto após os 3 primeiros dígitos
                .replace(/(\d{3})(\d)/, '$1.$2') // Insere o ponto após os 6 primeiros dígitos
                .replace(/(\d{3})(\d{1,2})$/, '$1-$2'); // Insere o traço antes dos últimos 2 dígitos
        }
    
        function enviarPedido() {
            const nomeCompleto = document.getElementById('nomeCompleto').value;
            const nomeFazenda = document.getElementById('nomeFazenda').value;
            const cpf = document.getElementById('cpf').value;
            const product1 = document.getElementById('product1').value || 0;
            const product2 = document.getElementById('product2').value || 0;
            const product3 = document.getElementById('product3').value || 0;
            const product4 = document.getElementById('product4').value || 0;
            const product5 = document.getElementById('product5').value || 0;
            const product6 = document.getElementById('product6').value || 0;
            const product7 = document.getElementById('product7').value || 0;
            const product8 = document.getElementById('product8').value || 0;
    
            // Monta a mensagem para o WhatsApp
            const mensagem = `*Pedido de Produtos*\n\n` +
                `*Nome:* ${nomeCompleto}\n` +
                `*Fazenda:* ${nomeFazenda}\n` +
                `*CPF:* ${cpf}\n\n` +
                `*Produtos Selecionados:*\n` +
                (product1 > 0 ? `Adubo Orgânico: ${product1}\n` : '') +
                (product2 > 0 ? `Composto Natural: ${product2}\n` : '') +
                (product3 > 0 ? `Ração Bovina: ${product3}\n` : '') +
                (product4 > 0 ? `Sal Mineral: ${product4}\n` : '') +
                (product5 > 0 ? `Cloro: ${product5}\n` : '') +
                (product6 > 0 ? `Filtro de Piscina: ${product6}\n` : '') +
                (product7 > 0 ? `Enxada: ${product7}\n` : '') +
                (product8 > 0 ? `Foice: ${product8}\n` : '');
    
            if (nomeCompleto && nomeFazenda && cpf) {
                // Envia o pedido via WhatsApp
                const url = `https://api.whatsapp.com/send?phone=${numeroWhatsApp}&text=${encodeURIComponent(mensagem)}`;
                window.open(url, '_blank');
            } else {
                alert('Por favor, preencha todas as informações.');
            }
        }
        </script>
    </body>
</html>